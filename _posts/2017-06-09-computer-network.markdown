---
layout:     post
title:      "计算机网络"
subtitle:   "第4章 网络层"
date:       2017-06-09 12:00:00
author:     "HE"
header-img: "img/home-bg.jpg"
header-mask: 0.3
catalog:    true
tags:
    - 计算机网络
    - 基础知识
---

### 网络层提供的服务

虚电路服务：进行通信时应当先建立连接，以保证双方通信所需的一切网络资源

数据报服务：只提供简单灵活的、无连接的、尽最大努力交付的数据报服务（所传送的分组可能出错、丢失、重复和失序，也不保证分组交付的时限）

![网络层提供的服务](/img/computer-network/network-layer-serve.png)

虚电路服务与数据报服务的对比：

|对比的方面|虚电路服务|数据报服务|
|:----------:|:----------:|:----------:|
|**思路**|可靠通信应当由网络来保证|可靠通信应当由用户主机来保证|
|**连接的建立**|必须有|不需要|
|**分组的转发**|属于同一条虚电路的分组均按照统一路由进行转发|每个分组独立选择路由进行转发|
|**当结点出故障时**|所有通过出故障的结点的虚电路均不能工作|出故障的结点可能会丢失分组，一些路由可能会发生变化|
|**分组的顺序**|总是按发送顺序到达终点|到达终点时不一定按发送顺序|
|**端到端的差错处理和流量控制**|可以由网络负责，也可以由用户主机负责|由用户主机负责|

TCP/IP体系的网络层提供的是数据报服务

### 网际协议IP

##### 分类IP地址

![分类的IP地址](/img/computer-network/IP-address.png)

![IP地址的范围](/img/computer-network/IP-address-range.png)

![特殊IP地址](/img/computer-network/IP-address-special.png)

用转发器或网桥连接起来的若干个局域网仍为一个网络

##### IP地址与硬件地址

**物理地址**是数据链路层和物理层使用的地址，**IP地址**是网络层和以上各层使用的地址（逻辑地址）

![IP地址与硬件地址的区别](/img/computer-network/IP-hardware-address.png)

IP地址放在IP数据报的首部，硬件地址放在MAC帧的首部